<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="/static/js/lib/moment/moment.js"></script>
    <script src ="/static/js/lib/d3/d3.v4.js"></script>
    <script src="/js/d3chart/charts/stackedbarchartiife.js"></script>
    <script src="/js/d3chart/charts/tablechart.js"></script>

    <link rel="stylesheet" href="/static/css/d3.css" />
    <title>verticalbarchart</title>
</head>

<body>


<div id="stackedbar" style="width:1000px; height:500px">

</div>

<div id="tablechart" style="width:1000px; height:500px">

</div>

<script type="text/javascript">

    var testdata = [
        {"date": "2022-03-01", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-02", "DAU": "14000", "MAU": "500000", "ALL": "400000"},
        {"date": "2022-03-03", "DAU": "24000", "MAU": "700000", "ALL": "400000"},
        {"date": "2022-03-04", "DAU": "44000", "MAU": "200000", "ALL": "400000"},
        {"date": "2022-03-05", "DAU": "25300", "MAU": "100000", "ALL": "400000"},
        {"date": "2022-03-06", "DAU": "38900", "MAU": "300000", "ALL": "400000"}
    ];

    var testdata2 = [
        {"date": "2022-03-01", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-02", "DAU": "34000", "MAU": "200000", "ALL": "400000"},
        {"date": "2022-03-03", "DAU": "34000", "MAU": "300000", "ALL": "400000"},
        {"date": "2022-03-04", "DAU": "34000", "MAU": "100000", "ALL": "400000"},
        {"date": "2022-03-05", "DAU": "34000", "MAU": "250000", "ALL": "400000"},
        {"date": "2022-03-06", "DAU": "34000", "MAU": "23000", "ALL": "400000"},
        {"date": "2022-03-07", "DAU": "34000", "MAU": "10000", "ALL": "400000"},
        {"date": "2022-03-08", "DAU": "34000", "MAU": "200000", "ALL": "400000"},
        {"date": "2022-03-09", "DAU": "34000", "MAU": "356000", "ALL": "400000"},
        {"date": "2022-03-10", "DAU": "34000", "MAU": "240000", "ALL": "400000"},
        {"date": "2022-03-11", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-12", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-13", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-14", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-15", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-16", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-17", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-18", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-19", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-21", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-22", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-23", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-24", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-25", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-26", "DAU": "34000", "MAU": "400000", "ALL": "400000"},
        {"date": "2022-03-27", "DAU": "34000", "MAU": "400000", "ALL": "400000"},

    ];

    var cohortdata = [

        {"signdate": "2022-04-01", "retentiondate": "2022-04-02", "retentionvalue": "99"},
        {"signdate": "2022-04-01", "retentiondate": "2022-04-03", "retentionvalue": "99"},
        {"signdate": "2022-04-01", "retentiondate": "2022-04-04", "retentionvalue": "98"},
        {"signdate": "2022-04-01", "retentiondate": "2022-04-05", "retentionvalue": "97"},
        {"signdate": "2022-04-02", "retentiondate": "2022-04-03", "retentionvalue": "97"},
        {"signdate": "2022-04-02", "retentiondate": "2022-04-04", "retentionvalue": "96"},
        {"signdate": "2022-04-02", "retentiondate": "2022-04-05", "retentionvalue": "95"},
        {"signdate": "2022-04-02", "retentiondate": "2022-04-06", "retentionvalue": "93"},
        {"signdate": "2022-04-02", "retentiondate": "2022-04-16", "retentionvalue": "30"},
        {"signdate": "2022-04-03", "retentiondate": "2022-04-04", "retentionvalue": "98"},
        {"signdate": "2022-04-03", "retentiondate": "2022-04-05", "retentionvalue": "97"},
        {"signdate": "2022-04-03", "retentiondate": "2022-04-06", "retentionvalue": "96"},
        {"signdate": "2022-04-04", "retentiondate": "2022-04-05", "retentionvalue": "90"},
        {"signdate": "2022-04-04", "retentiondate": "2022-04-06", "retentionvalue": "88"},
        {"signdate": "2022-04-04", "retentiondate": "2022-04-07", "retentionvalue": "86"},
        {"signdate": "2022-04-04", "retentiondate": "2022-04-08", "retentionvalue": "82"}


    ];




    stackedbarchart.draw(JSON.parse(JSON.stringify(testdata)));



    tablechart.draw("tablechart",cohortdata);
    //
    // setTimeout(function (){
    //
    //     stackedbarchart.draw(JSON.parse(JSON.stringify(testdata.slice(3))));
    //
    // },2000);

</script>
</body>

</html>